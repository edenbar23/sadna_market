# ===================================================================
# application-dev.properties - Development Profile with New State-Based Init
# ===================================================================

# ===========================================
# DEVELOPMENT DATABASE CONFIGURATION (YOUR ORIGINAL)
# ===========================================
spring.datasource.url=jdbc:postgresql://localhost:5432/sadna_market_db
spring.datasource.username=sadna_market
spring.datasource.password=Password1!
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration for development
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=flase

# ===========================================
# EXTERNAL API CONFIGURATION (YOUR ORIGINAL)
# ===========================================
external.api.enabled=true
external.api.url=https://damp-lynna-wsep-1984852e.koyeb.app/
external.api.connection.timeout.seconds=10
external.api.request.timeout.seconds=30

# ===========================================
# NEW STATE-BASED SYSTEM INITIALIZATION
# ===========================================
# Enable the interactive startup menu (default: true)
system.startup.menu.enabled=true
# Enable/disable initialization system
system.init.enabled=false

# Initialization mode: check_only, selective, force_full, reset_and_init
system.init.mode=selective

# Interactive mode - prompts user for choices
system.init.interactive=false

# Configuration file location
system.init.config-file=src/main/resources/system-config.yml

spring.web.cors.allowed-origins=http://localhost:5173,http://localhost:3000
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# ===========================================
# BACKWARDS COMPATIBILITY (DEPRECATED)
# ===========================================
# These settings are kept for reference but ignored by new system

# system.init.force.enabled=false
# system.init.clean.enabled=false
# system.init.initial-state-file=src/main/resources/initial-state.txt
# system.init.admin.username=u1
# system.init.admin.password=Password123!
# system.init.admin.email=u1@market.com
# system.init.admin.first-name=System
# system.init.admin.last-name=Administrator

# ===========================================
# LOGGING CONFIGURATION (YOUR ORIGINAL)
# ===========================================
logging.level.org.hibernate=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type=WARN
logging.level.org.hibernate.engine=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN
logging.level.org.springframework.orm.jpa=WARN
logging.level.org.springframework.transaction=WARN

logging.level.com.zaxxer.hikari=WARN
logging.level.org.postgresql=WARN

# Spring Boot startup noise
logging.level.org.springframework.boot=WARN
logging.level.org.springframework.context=WARN
logging.level.org.springframework.beans=WARN
logging.level.org.springframework.web=WARN

# JPA/Hibernate DDL (the table creation stuff you hate)
logging.level.org.hibernate.tool.schema=WARN

# ===========================================
# JWT CONFIGURATION
# ===========================================
market.jwt.expiration=86400000
market.jwt.secret=${JWT_SECRET:MySecretJWTKey1234567890!@#$%^&*()}
app.encryption.key=${ENCRYPTION_KEY:MySecretEncryptionKey1234567890!}

# ===========================================
# USAGE EXAMPLES AND MODES
# ===========================================

# Example configurations for different scenarios:

# 1. Check what's currently in your system:
# system.init.mode=check_only

# 2. Only initialize what's missing (default):
# system.init.mode=selective

# 3. Force reinitialize everything:
# system.init.mode=force_full

# 4. Reset all data and start fresh:
# system.init.mode=reset_and_init

# 5. Interactive mode (ask user what to do):
# system.init.interactive=true

# 6. Use different configuration file:
# system.init.config-file=src/main/resources/custom-scenario.yml

# 7. Disable initialization completely:
# system.init.enabled=false